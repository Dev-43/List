<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WishList | Premium</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <nav class="glass-nav">
        <div class="container nav-content">
            <a href="{{ url_for('main.index') }}" class="logo">WishList<span class="dot">.</span></a>
            <div class="nav-links">
                {% if current_user.is_authenticated %}
                    <span class="welcome-text">Hello, {{ current_user.username }}</span>
                    <a href="{{ url_for('main.logout') }}" class="btn list-btn">Logout</a>
                {% else %}
                    <a href="{{ url_for('main.login') }}" class="btn">Login</a>
                    <a href="{{ url_for('main.register') }}" class="btn btn-primary">Sign Up</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <div class="container main-content">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash flash-{{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); align-items: center; justify-content: center; z-index: 300;">
        <div class="glass-panel" style="padding: 30px; width: 90%; max-width: 400px; text-align: center; border: 1px solid rgba(231, 76, 60, 0.3);">
            <div style="font-size: 3rem; color: #e74c3c; margin-bottom: 20px;"><i class="fas fa-exclamation-circle"></i></div>
            <h3 style="color: white; margin-bottom: 10px;">Are you sure?</h3>
            <p id="deleteMessage" style="color: rgba(255,255,255,0.7); margin-bottom: 25px;">This action cannot be undone.</p>
            
            <div style="display: flex; gap: 15px; justify-content: center;">
                <button onclick="document.getElementById('deleteModal').style.display='none'" class="btn" style="background: rgba(255,255,255,0.1);">Cancel</button>
                <a id="confirmDeleteBtn" href="#" class="btn" style="background: #e74c3c; color: white;">Delete</a>
            </div>
        </div>
    </div>

    <script>
        function showDeleteModal(url, message) {
            document.getElementById('confirmDeleteBtn').href = url;
            if (message) {
                document.getElementById('deleteMessage').textContent = message;
            }
            document.getElementById('deleteModal').style.display = 'flex';
            return false;
        }
    </script>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
